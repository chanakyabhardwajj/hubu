<html>

<body>
    <script type="text/javascript" src="bundle.js"></script>

    <a-scene axishelper grid vr-mode-ui="enabled: false">
        <a-plane position="2.5 0 2.5" width="5" height="5" rotation="-90 0 0" opacity="0.5"></a-plane>
        <a-sky color="#6EBAA7"></a-sky>
        <a-light type="directional" color="#fff" intensity="0.2" position="-1 2 1"></a-light>
        <a-light type="ambient" color="#fff"></a-light>
        <a-entity camera="near:0.001;" orbit-controls></a-entity>
        <!--<a-camera target="#target" distance="1" orbit-controls look-controls-enabled=false wasd-controls-enabled=true position="0 0 0" ></a-camera>-->
    </a-scene>

    <script type="text/javascript">
        let data = [1, 2, 3, 4, 5, 6];
        let scene = document.querySelector("a-scene");
        var docfrag = document.createDocumentFragment();

        data.forEach((d, i) => {
            let bar = document.createElement('a-box');
            bar.setAttribute('material', 'color: #ffcc01; roughness: 1; metalness: 0;')
            bar.setAttribute('height', d/2);
            bar.setAttribute('width', 0.2);
            bar.setAttribute('depth', 0.2);
            bar.setAttribute('position', {
                x: i,
                y: d/4,
                z: i
            });

            let txt = document.createElement('a-entity');
            // <a-entity position="1 0 0" bmfont-text="text: 1"></a-entity>
            txt.setAttribute('bmfont-text', `text: ${d}`);
            txt.setAttribute('look-at', "[camera]");
            bar.appendChild(txt);
            txt.setAttribute('position', {
                x: 0,
                y: d/4 + 0.2,
                z: 0
            });


            // Inject into docuemnt fragment
            docfrag.appendChild(bar);
        });
        scene.appendChild(docfrag);
    </script>

</body>

</html>